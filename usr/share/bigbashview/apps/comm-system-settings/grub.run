#!/bin/bash

#Translation
export TEXTDOMAINDIR="/usr/share/locale"
export TEXTDOMAIN=biglinux-system-settings


INPUT=$(grep "timeout_style=menu" /etc/grub.d/30_os-prober)
if [ -n "$INPUT" ]; then
    if yad --question --width=390 --image="dialog-warning" --title=$"Grub" --text=$"Cuidado, você perderá acesso aos SnapShots. Tem certeza que deseja ocultar o grub?" --button=$"Não":1 --button=$"Sim":0;then
        if yad --question --width=390 --image="dialog-warning" --title=$"Grub" --text=$"Você saberá retornar o Grub em caso de falha?" --button=$"Não":1 --button=$"Sim":0;then
            if yad --question --width=390 --image="dialog-warning" --title=$"Grub" --text=$"Você saberá acessar os SnapShots sem acesso ao modo Gráfico?" --button=$"Não":1 --button=$"Sim":0;then
                if yad --question --width=390 --image="dialog-warning" --title=$"Grub" --text=$"Você está completamente seguro dessa aplicação?" --button=$"Não":1 --button=$"Sim":0;then
                    pkexec ./grub1.run | yad --width=390 --title=$"Grub" --progress --pulsate --no-buttons --auto-close --text=$"Aplicando, aguarde..."
                    yad --info --title=$"Grub" --text=$"Concluído!"
                fi
            fi
        fi
    fi
else
    pkexec ./grub1.run | yad --width=390 --title=$"Grub" --progress --pulsate --no-buttons --auto-close --text=$"Aplicando, aguarde..."
    yad --info --title=$"Grub" --text=$"Concluído!"
fi
